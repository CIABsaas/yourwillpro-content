---
/**
 * StoryLayout.astro
 * Matches original demo design with hero image support
 *
 * Place this file in: src/layouts/StoryLayout.astro
 */

import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  summary: string;
  heroImage?: string;
  readTime?: string;
  author?: string;
  reviewer?: string;
  jurisdiction?: string;
  issue?: string;
  headings?: { depth: number; slug: string; text: string }[];
  ogImage?: string;
}

const {
  title,
  summary,
  heroImage,
  readTime = "8 min read",
  author,
  reviewer,
  jurisdiction,
  issue,
  headings = [],
  ogImage
} = Astro.props;

// Filter headings for sidebar (only h2)
const sidebarHeadings = headings.filter(h => h.depth === 2);

// Parse title for display
// Format: "Delay - Six Siblings, Zero Trust" → "Six Siblings." / "Zero Trust."
const titleParts = title.split(' - ');
const mainTitle = titleParts.length > 1 ? titleParts[1] : title;
const headlineParts = mainTitle.split(', ');
const line1 = headlineParts[0];
const line2 = headlineParts.length > 1 ? headlineParts[1] : null;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <title>{title} | YourWillPro</title>
    <meta name="description" content={summary} />

    <!-- Canonical URL -->
    <link rel="canonical" href={Astro.url.href} />

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:url" content={Astro.url.href} />
    <meta property="og:title" content={`${title} | YourWillPro`} />
    <meta property="og:description" content={summary} />
    <meta property="og:image" content={ogImage || heroImage || "https://yourwillpro.com.au/images/og/og-default.png"} />
    <meta property="og:site_name" content="YourWillPro" />
    <meta property="og:locale" content="en_AU" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={summary} />
    <meta name="twitter:image" content={ogImage || heroImage || "https://yourwillpro.com.au/images/og/og-default.png"} />
  </head>
  <body class={heroImage ? 'has-hero-image' : ''}>

    <Header />

    <!-- Hero Section -->
    <section class="hero">
      <!-- Breadcrumb Navigation -->
      <nav class="breadcrumb">
        <a href="/">Home</a>
        <span class="breadcrumb-separator">›</span>
        <a href="/user-stories/">User Stories</a>
        <span class="breadcrumb-separator">›</span>
        <span>{title}</span>
      </nav>

      {heroImage && (
        <div class="hero-image">
          <img src={heroImage} alt="" />
        </div>
      )}
      
      <div class="hero-content">
        <div class="story-badge">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
          </svg>
          TRUE STORY — A CAUTIONARY TALE
        </div>
        
        <h1>
          <span class="headline-line1">{line1}.</span>
          {line2 && <span class="headline-line2">{line2}.</span>}
        </h1>
        
        <p class="hero-subtitle">{summary} This is what went wrong — and how you can prevent it.</p>
        
        <div class="hero-meta">
          <span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            {readTime}
          </span>
          <span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            Based on a real case
          </span>
          <span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            Updated {new Date().toLocaleDateString('en-AU', { month: 'short', year: 'numeric' })}
          </span>
        </div>
      </div>
    </section>
    
    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-section">
          <h3 class="sidebar-title">In This Story</h3>
          <ul class="chapter-list">
            {sidebarHeadings.map((heading, index) => (
              <li class="chapter-item">
                <a href={`#${heading.slug}`} class="chapter-link">
                  <span class="chapter-number">{String(index + 1).padStart(2, '0')}</span>
                  {heading.text}
                </a>
              </li>
            ))}
          </ul>
        </div>
        
        <div class="sidebar-cta">
          <h4>Don't let this happen</h4>
          <p>Learn how proper planning prevents family conflict.</p>
          <a href="/user-stories" class="btn-secondary">Read More Stories →</a>
        </div>
      </aside>
      
      <!-- Content -->
      <main class="content">
        <slot />
      </main>
    </div>
    
    <!-- Trust Section -->
    {(author || reviewer) && (
      <section class="trust-section">
        <div class="trust-inner">
          {author && (
            <div class="trust-item">
              <div class="trust-avatar">{author.split(' ').map(n => n[0]).join('')}</div>
              <div class="trust-info">
                <div class="trust-label">Written by</div>
                <div class="trust-name">{author}</div>
              </div>
            </div>
          )}
          
          {reviewer && (
            <div class="trust-item">
              <div class="trust-avatar">{reviewer.split(' ').map(n => n[0]).slice(0, 2).join('')}</div>
              <div class="trust-info">
                <div class="trust-label">Reviewed by</div>
                <div class="trust-name">{reviewer}</div>
              </div>
            </div>
          )}
          
          <div class="trust-date">
            Last updated: {new Date().toLocaleDateString('en-AU', { month: 'long', year: 'numeric' })}
          </div>
        </div>
      </section>
    )}
    
    <!-- CTA Section -->
    <section class="cta-section">
      <div class="cta-content">
        <h2>Don't leave your family <strong>guessing.</strong></h2>
        <p>Learn from real cases. Understand what can go wrong — and how to prevent it.</p>
        <div class="cta-buttons">
          <a href="/user-stories" class="btn-primary">Read More Stories</a>
          <a href="/planning-tools" class="btn-ghost">Check Your Protection</a>
        </div>
      </div>
    </section>

    <Footer />
  </body>
</html>

<style is:global>
  :root {
    --bg-warm: #FAFAF8;
    --bg-cream: #f5f0e8;
    --bg-dark: #1a1a1a;
    --text-primary: #1a1a1a;
    --text-secondary: #5a5a5a;
    --text-muted: #8a8a8a;
    --brand-navy: #1e3a5f;
    --brand-navy-light: #2a4a73;
    --accent-amber: #c9a227;
    --accent-amber-bg: #fef9e6;
    --accent-amber-border: #e8d59b;
    --accent-coral: #e85d4c;
    --accent-coral-light: #fef0ee;
    --accent-green: #2e7d32;
    --accent-green-light: #e8f5e9;
    --border-light: #e8e6e1;
    
    --font-display: 'Playfair Display', Georgia, serif;
    --font-body: 'DM Sans', -apple-system, sans-serif;
    
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 2.5rem;
    --space-xl: 4rem;
    --space-2xl: 6rem;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  body {
    font-family: var(--font-body);
    background-color: var(--bg-warm);
    color: var(--text-primary);
    line-height: 1.7;
    font-size: 17px;
    overflow-x: hidden;
  }

  /* === BREADCRUMB === */
  .breadcrumb {
    color: rgba(255, 255, 255, 0.8);
    font-size: 14px;
    padding-bottom: 24px;
    margin: 0;
    background: none;
  }

  .breadcrumb a {
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: color 0.2s;
  }

  .breadcrumb a:hover {
    color: #ffffff;
  }

  .breadcrumb-separator,
  .breadcrumb > span {
    color: rgba(255, 255, 255, 0.5);
  }

  /* === HEADER === */
  .header {
    background: white;
    border-bottom: 1px solid var(--border);
    padding: 18px 64px;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  
  body.has-hero-image .header {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
  }
  
  .header-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-md);
  }
  
  .logo {
    display: flex;
    align-items: center;
    text-decoration: none;
  }

  .logo-img {
    height: 56px;
    width: auto;
  }
  
  .main-nav {
    display: flex;
    align-items: center;
    gap: 36px;
  }
  
  .nav-link {
    color: var(--text-primary);
    text-decoration: none;
    font-size: 15px;
    font-weight: 500;
    padding: 8px 0;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
  }
  
  .nav-link:hover {
    color: var(--navy);
    border-bottom-color: var(--gold);
  }
  
  .nav-link.active {
    color: var(--text-primary);
    border-bottom-color: var(--text-primary);
  }
  
  .btn-cta {
    background: var(--accent-coral);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 15px;
    transition: all 0.2s;
    white-space: nowrap;
  }
  
  .btn-cta:hover {
    background: #d64d3c;
    transform: translateY(-1px);
  }
  
  /* === HERO === */
  .hero {
    background: var(--bg-cream);
    padding: var(--space-2xl) var(--space-lg);
    padding-top: calc(var(--space-2xl) + 20px);
    padding-bottom: var(--space-2xl);
    text-align: center;
    position: relative;
    min-height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
     opacity: 1 !important;
    filter: none !important;
  }
  
  body.has-hero-image .hero {
    min-height: 80vh;
    background: none;
  }
  
  .hero-image {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
  }
  
  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 60%;
  }
  
  .hero-image::after {
    display: none;
  }
  
  .hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
  }
  
  .story-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--accent-amber-bg);
    border: 1px solid var(--accent-amber-border);
    color: #8b7355;
    padding: 10px 20px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: var(--space-lg);
  }
  
  .story-badge svg {
    width: 16px;
    height: 16px;
    stroke: var(--accent-amber);
  }
  
  .hero h1 {
    font-family: var(--font-display);
    font-size: clamp(3rem, 8vw, 5.5rem);
    font-weight: 400;
    line-height: 1.1;
    margin-bottom: var(--space-lg);
    color: var(--text-primary);
  }
  
  .hero h1 .headline-line1 {
    display: block;
    font-family: 'Playfair Display', Georgia, serif;
    font-weight: 400;
    font-style: normal;
  }
  
  .hero h1 .headline-line2 {
    display: block;
    font-family: 'Playfair Display', Georgia, serif;
    font-weight: 700;
    font-style: normal;
  }
  
  .hero-subtitle {
    font-family: var(--font-display);
    font-style: italic;
    font-size: clamp(1.1rem, 2.5vw, 1.5rem);
    max-width: 800px;
    margin: 0 auto var(--space-lg) auto;
    line-height: 1.6;
    color: var(--text-primary);
  }
  
  .hero-meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-lg);
    font-size: 14px;
    color: var(--text-muted);
  }
  
  .hero-meta span {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .hero-meta svg {
    width: 18px;
    height: 18px;
    opacity: 0.6;
  }
  
  /* === MAIN LAYOUT === */
  .main-layout {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: var(--space-xl);
    padding: var(--space-xl) var(--space-lg);
    background: white;
  }
  
  /* === SIDEBAR === */
  .sidebar {
    position: sticky;
    top: 100px;
    height: fit-content;
  }
  
  .sidebar-section {
    margin-bottom: var(--space-lg);
  }
  
  .sidebar-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--text-muted);
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-xs);
    border-bottom: 2px solid var(--border-light);
  }
  
  .chapter-list {
    list-style: none;
  }
  
  .chapter-item {
    margin-bottom: 2px;
  }
  
  .chapter-link {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: 10px 12px;
    text-decoration: none;
    color: var(--text-secondary);
    border-radius: 8px;
    transition: all 0.2s;
    font-size: 14px;
    line-height: 1.4;
  }
  
  .chapter-link:hover {
    background: var(--bg-cream);
    color: var(--text-primary);
  }
  
  .chapter-number {
    font-weight: 700;
    font-size: 12px;
    min-width: 24px;
    opacity: 0.4;
  }
  
  .sidebar-cta {
    background: linear-gradient(135deg, var(--brand-navy) 0%, var(--brand-navy-light) 100%);
    border-radius: 12px;
    padding: var(--space-md);
    color: white;
  }
  
  .sidebar-cta h4 {
    font-family: var(--font-display);
    font-size: 18px;
    margin-bottom: var(--space-xs);
  }
  
  .sidebar-cta p {
    font-size: 13px;
    opacity: 0.85;
    margin-bottom: var(--space-sm);
    line-height: 1.5;
  }
  
  .btn-secondary {
    display: inline-block;
    background: white;
    color: var(--brand-navy);
    padding: 10px 18px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 13px;
    transition: all 0.2s;
  }
  
  .btn-secondary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }
  
  /* === CONTENT === */
  .content {
    max-width: 800px;
  }
  
  .content h2 {
    font-family: var(--font-display);
    font-size: 2rem;
    font-weight: 600;
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    color: var(--text-primary);
    scroll-margin-top: 100px;
  }
  
  .content h2:first-child {
    margin-top: 0;
  }
  
  .content h3 {
    font-family: var(--font-body);
    font-size: 1.25rem;
    font-weight: 700;
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
  }
  
  .content p {
    margin-bottom: var(--space-md);
    color: var(--text-secondary);
  }
  
  .content > p:first-child {
    font-size: 1.15rem;
    line-height: 1.7;
    color: var(--text-primary);
  }
  
  .content ul, .content ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-md);
    color: var(--text-secondary);
  }
  
  .content li {
    margin-bottom: var(--space-xs);
  }
  
  .content strong {
    color: var(--text-primary);
  }
  
  .content a {
    color: var(--brand-navy);
    text-decoration: underline;
    text-decoration-color: var(--border-light);
    text-underline-offset: 2px;
  }
  
  .content a:hover {
    text-decoration-color: var(--brand-navy);
  }
  
  /* Blockquote as Pull Quote */
  .content blockquote {
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
    background: var(--bg-cream);
    border-left: 4px solid var(--accent-amber);
    position: relative;
  }
  
  .content blockquote::before {
    content: '"';
    font-family: var(--font-display);
    font-size: 6rem;
    color: var(--accent-amber);
    opacity: 0.3;
    position: absolute;
    top: -20px;
    left: 20px;
    line-height: 1;
  }
  
  .content blockquote p {
    font-family: var(--font-display);
    font-style: italic;
    font-size: 1.4rem;
    line-height: 1.5;
    color: var(--text-primary);
    margin: 0;
    position: relative;
  }
  
  /* HR as Divider */
  .content hr {
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: var(--space-xl) 0;
    color: var(--text-muted);
  }
  
  .content hr::before {
    content: '✦';
    font-size: 12px;
    opacity: 0.5;
  }
  
  /* === STATS BOX === */
  .stats-box {
    background: var(--bg-dark);
    border-radius: 16px;
    padding: var(--space-xl);
    margin: var(--space-xl) 0;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
    text-align: center;
  }
  
  .stat-item .stat-number {
    font-family: var(--font-display);
    font-size: 3.5rem;
    font-weight: 700;
    color: var(--accent-coral);
    line-height: 1;
    margin-bottom: var(--space-xs);
  }
  
  .stat-item .stat-label {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(255,255,255,0.8);
  }
  
  /* === RED FLAG CALLOUT === */
  .red-flag {
    background: var(--accent-coral-light);
    border: 1px solid rgba(232, 93, 76, 0.2);
    border-radius: 12px;
    padding: var(--space-lg);
    margin: var(--space-xl) 0;
    display: flex;
    gap: var(--space-md);
  }
  
  .red-flag .flag-icon {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    color: var(--accent-coral);
  }
  
  .red-flag .flag-title {
    font-weight: 700;
    color: var(--accent-coral);
    margin-bottom: var(--space-xs);
  }
  
  .red-flag .flag-text {
    color: var(--text-secondary);
    margin: 0;
  }
  
  /* Pull Quote */
  .pull-quote {
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
    background: var(--bg-cream);
    border-left: 4px solid var(--accent-amber);
    position: relative;
  }

  .pull-quote::before {
    content: '"';
    font-family: var(--font-display);
    font-size: 6rem;
    color: var(--accent-amber);
    opacity: 0.3;
    position: absolute;
    top: -20px;
    left: 20px;
    line-height: 1;
  }

  .pull-quote p {
    font-family: var(--font-display);
    font-style: italic;
    font-size: 1.4rem;
    line-height: 1.5;
    color: var(--text-primary);
    margin: 0;
    position: relative;
  }

  /* Stat Block */
  .stat-block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-md);
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
    background: var(--bg-dark);
    border-radius: 12px;
  }

  .stat-item {
    text-align: center;
  }

  .stat-number {
    font-family: var(--font-body);
    font-size: 3rem;
    font-weight: 700;
    color: var(--accent-coral);
    line-height: 1;
    margin-bottom: var(--space-xs);
  }

  .stat-label {
    font-size: 13px;
    color: rgba(255,255,255,0.7);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  /* Warning Box (Red Flag) */
  .warning-box {
    background: var(--accent-coral-light);
    border: 1px solid rgba(232, 93, 76, 0.2);
    border-radius: 12px;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    display: flex;
    gap: var(--space-md);
  }

  .warning-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: var(--accent-coral);
  }

  .warning-box h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--accent-coral);
  }

  .warning-box p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }

  /* Success Box (Green) */
  .success-box {
    background: #e8f5e9;
    border: 1px solid rgba(46, 125, 50, 0.2);
    border-radius: 12px;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    display: flex;
    gap: var(--space-md);
  }

  .success-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: #2e7d32;
  }

  .success-box h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: #2e7d32;
  }

  .success-box p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }

  /* Timeline */
  .timeline {
    margin: var(--space-xl) 0;
    position: relative;
    padding-left: var(--space-lg);
  }

  .timeline::before {
    content: '';
    position: absolute;
    left: 8px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--border-light);
  }

  .timeline-item {
    position: relative;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
  }

  .timeline-item::before {
    content: '';
    position: absolute;
    left: calc(-1 * var(--space-lg) + 4px);
    top: 6px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--brand-navy);
    border: 2px solid var(--bg-warm);
  }

  .timeline-item.negative::before {
    background: var(--accent-coral);
  }

  .timeline-year {
    font-size: 12px;
    font-weight: 700;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 4px;
  }

  .timeline-item h4 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .timeline-item p {
    font-size: 14px;
    margin: 0;
  }

  /* Divider */
  .divider {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin: var(--space-xl) 0;
    color: var(--text-muted);
  }

  .divider::before,
  .divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border-light);
  }

  .divider svg {
    width: 20px;
    height: 20px;
    opacity: 0.5;
  }

  /* Lead Paragraph */
  .lead-paragraph {
    font-size: 1.2rem;
    line-height: 1.7;
    color: var(--text-primary);
    margin-bottom: var(--space-lg);
  }

  /* === TRUST SECTION === */
  .trust-section {
    background: var(--bg-warm);
    border-top: 1px solid var(--border-light);
    padding: var(--space-lg);
  }
  
  .trust-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: var(--space-xl);
    flex-wrap: wrap;
  }
  
  .trust-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }
  
  .trust-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: var(--bg-cream);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    color: var(--brand-navy);
  }
  
  .trust-info {
    font-size: 13px;
  }
  
  .trust-label {
    color: var(--text-muted);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .trust-name {
    color: var(--text-primary);
    font-weight: 600;
  }
  
  .trust-date {
    margin-left: auto;
    font-size: 13px;
    color: var(--text-muted);
  }
  
  /* === CTA SECTION === */
  .cta-section {
    background: var(--bg-dark);
    padding: var(--space-2xl) var(--space-lg);
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  
  .cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 50%, rgba(232, 93, 76, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 50%, rgba(201, 162, 39, 0.1) 0%, transparent 50%);
  }
  
  .cta-content {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
  }
  
  .cta-section h2 {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 3rem);
    color: white;
    margin-bottom: var(--space-sm);
    font-weight: 400;
  }
  
  .cta-section h2 strong {
    font-weight: 700;
    color: var(--accent-coral);
  }
  
  .cta-section > p,
  .cta-content > p {
    color: rgba(255,255,255,0.7);
    font-size: 1.1rem;
    margin-bottom: var(--space-lg);
  }
  
  .cta-buttons {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .btn-primary {
    background: var(--accent-coral);
    color: white;
    padding: 16px 32px;
    border-radius: 10px;
    text-decoration: none;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(232, 93, 76, 0.3);
  }
  
  .btn-primary:hover {
    background: #d64d3c;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(232, 93, 76, 0.4);
  }
  
  .btn-ghost {
    background: transparent;
    border: 2px solid rgba(255,255,255,0.3);
    color: white;
    padding: 14px 30px;
    border-radius: 10px;
    text-decoration: none;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.2s;
  }
  
  .btn-ghost:hover {
    border-color: white;
    background: rgba(255,255,255,0.1);
  }
  
  /* === MOBILE MENU === */
  .mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    color: var(--text-primary);
  }

  .mobile-menu-btn svg {
    width: 24px;
    height: 24px;
  }

  .mobile-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    z-index: 998;
  }

  .mobile-menu-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .mobile-menu-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 280px;
    height: 100%;
    background: white;
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
    transform: translateX(100%);
    transition: transform 0.3s ease;
    z-index: 999;
    padding: var(--space-lg);
  }

  .mobile-menu-panel.active {
    transform: translateX(0);
  }

  .mobile-menu-close {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: var(--text-muted);
    padding: 8px;
    line-height: 1;
  }

  .mobile-menu-close:hover {
    color: var(--text-primary);
  }

  .mobile-menu-nav {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    margin-top: var(--space-2xl);
  }

  .mobile-menu-link {
    color: var(--text-primary);
    text-decoration: none;
    font-size: 18px;
    font-weight: 500;
    padding: var(--space-sm);
    border-radius: 8px;
    transition: background 0.2s;
  }

  .mobile-menu-link:hover {
    background: var(--bg-cream);
  }

  body.menu-open {
    overflow: hidden;
  }

  /* === RESPONSIVE === */
  @media (max-width: 1024px) {
    .main-layout {
      grid-template-columns: 1fr;
    }

    .sidebar {
      position: static;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }

    .sidebar-section {
      margin-bottom: 0;
    }

    .tagline {
      display: none;
    }
  }

  @media (max-width: 768px) {
    .main-nav {
      display: none;
    }

    .mobile-menu-btn {
      display: block;
    }
    
    .btn-cta {
      padding: 10px 16px;
      font-size: 14px;
    }
    
    .hero {
      padding: var(--space-xl) var(--space-sm);
      min-height: 60vh;
    }
    
    .main-layout {
      padding: var(--space-lg) var(--space-sm);
    }
    
    .sidebar {
      grid-template-columns: 1fr;
    }
    
    .hero-meta {
      flex-direction: column;
      gap: var(--space-sm);
    }
    
    .trust-inner {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .trust-date {
      margin-left: 0;
    }
  }

  @media (max-width: 480px) {
    .hero {
      padding: 32px 16px;
    }

    .main-layout {
      padding: 24px 16px;
    }

    .content {
      padding: 0 16px;
    }
  }
</style>
