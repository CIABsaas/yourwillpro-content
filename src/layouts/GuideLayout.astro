---
/**
 * GuideLayout.astro
 * Visually engaging layout for guide content
 *
 * Place this file in: src/layouts/GuideLayout.astro
 */

import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  summary?: string;
  heroImage?: string;
  readTime?: string;
  difficulty?: string;
  author?: string;
  reviewer?: string;
  headings?: { depth: number; slug: string; text: string }[];
  ogImage?: string;
}

const {
  title,
  summary,
  heroImage,
  readTime = "10 min read",
  difficulty = "Beginner",
  author,
  reviewer,
  headings = [],
  ogImage
} = Astro.props;

// Filter headings for sidebar (only h2)
const sidebarHeadings = headings.filter(h => h.depth === 2);

// Difficulty colors
const difficultyColors: Record<string, string> = {
  'Beginner': 'var(--accent-green)',
  'Easy': 'var(--accent-green)',
  'Medium': 'var(--accent-amber)',
  'Intermediate': 'var(--accent-amber)',
  'Advanced': 'var(--accent-coral)',
  'Complex': 'var(--accent-coral)'
};

const difficultyColor = difficultyColors[difficulty] || 'var(--accent-green)';
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <title>{title} | YourWillPro Guides</title>
    <meta name="description" content={summary} />

    <!-- Canonical URL -->
    <link rel="canonical" href={Astro.url.href} />

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:url" content={Astro.url.href} />
    <meta property="og:title" content={`${title} | YourWillPro Guides`} />
    <meta property="og:description" content={summary || "Estate planning guide"} />
    <meta property="og:image" content={ogImage || heroImage || "https://yourwillpro.com.au/images/og/og-default.png"} />
    <meta property="og:site_name" content="YourWillPro" />
    <meta property="og:locale" content="en_AU" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={summary || "Estate planning guide"} />
    <meta name="twitter:image" content={ogImage || heroImage || "https://yourwillpro.com.au/images/og/og-default.png"} />
  </head>
  <body>

    <!-- Reading Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <Header />

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" style="padding: 1rem 2rem; font-size: 0.85rem; color: #7a7a7a; background: white; border-bottom: 1px solid #e2e2e2;">
      <a href="/" style="color: #7a7a7a; text-decoration: none;">Home</a>
      <span style="margin: 0 0.5rem;">‚Ä∫</span>
      <a href="/guides/" style="color: #7a7a7a; text-decoration: none;">Guides</a>
      <span style="margin: 0 0.5rem;">‚Ä∫</span>
      <span>{title}</span>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      {heroImage && (
        <div class="hero-image">
          <img src={heroImage} alt="" />
        </div>
      )}
      
      <div class="hero-content">
        <div class="guide-badge">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
          </svg>
          GUIDE
        </div>
        
        <h1>{title}</h1>
        
        {summary && <p class="hero-subtitle">{summary}</p>}
        
        <div class="hero-meta">
          <span class="meta-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            {readTime}
          </span>
          <span class="meta-item difficulty" style={`--difficulty-color: ${difficultyColor}`}>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg>
            {difficulty}
          </span>
          <span class="meta-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            Updated {new Date().toLocaleDateString('en-AU', { month: 'short', year: 'numeric' })}
          </span>
        </div>
      </div>
    </section>
    
    <!-- Quick Jump -->
    <div class="quick-jump">
      <div class="quick-jump-inner">
        <span class="quick-jump-label">Jump to:</span>
        <div class="quick-jump-links">
          {sidebarHeadings.slice(0, 5).map((heading) => (
            <a href={`#${heading.slug}`} class="quick-jump-link">{heading.text}</a>
          ))}
        </div>
      </div>
    </div>
    
    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-section">
          <h3 class="sidebar-title">In This Guide</h3>
          <ul class="chapter-list">
            {sidebarHeadings.map((heading, index) => (
              <li class="chapter-item">
                <a href={`#${heading.slug}`} class="chapter-link">
                  <span class="chapter-number">{String(index + 1).padStart(2, '0')}</span>
                  {heading.text}
                </a>
              </li>
            ))}
          </ul>
        </div>
        
        <div class="sidebar-help">
          <h4>Need help?</h4>
          <p>Our guides are written in plain English. If something's unclear, check our FAQ or Dictionary.</p>
          <div class="sidebar-help-links">
            <a href="/common-questions">FAQ ‚Üí</a>
            <a href="/dictionary">Dictionary ‚Üí</a>
          </div>
        </div>
      </aside>
      
      <!-- Content -->
      <main class="content">
        <slot />
        
        <!-- What's Next Teaser -->
        <div class="whats-next">
          <h3>What's Next?</h3>
          <p>Now that you understand this topic, explore related guides to continue learning.</p>
          <a href="/guides" class="whats-next-link">Browse All Guides ‚Üí</a>
        </div>
      </main>
    </div>
    
    <!-- Trust Section -->
    {(author || reviewer) && (
      <section class="trust-section">
        <div class="trust-inner">
          {author && (
            <div class="trust-item">
              <div class="trust-avatar">{author.split(' ').map(n => n[0]).join('')}</div>
              <div class="trust-info">
                <div class="trust-label">Written by</div>
                <div class="trust-name">{author}</div>
              </div>
            </div>
          )}
          
          {reviewer && (
            <div class="trust-item">
              <div class="trust-avatar">{reviewer.split(' ').map(n => n[0]).slice(0, 2).join('')}</div>
              <div class="trust-info">
                <div class="trust-label">Reviewed by</div>
                <div class="trust-name">{reviewer}</div>
              </div>
            </div>
          )}
          
          <div class="trust-date">
            Last updated: {new Date().toLocaleDateString('en-AU', { month: 'long', year: 'numeric' })}
          </div>
        </div>
      </section>
    )}

    <Footer />
    
    <!-- Progress Bar Script -->
    <script>
      window.addEventListener('scroll', () => {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = (scrollTop / docHeight) * 100;
        document.getElementById('progressBar').style.width = progress + '%';
      });
    </script>
  </body>
</html>

<style is:global>
  :root {
    --bg-warm: #FAFAF8;
    --bg-cream: #f5f0e8;
    --bg-dark: #1a1a1a;
    --text-primary: #1a1a1a;
    --text-secondary: #5a5a5a;
    --text-muted: #8a8a8a;
    --brand-navy: #1e3a5f;
    --brand-navy-light: #2a4a73;
    --accent-amber: #c9a227;
    --accent-amber-bg: #fef9e6;
    --accent-amber-border: #e8d59b;
    --accent-coral: #e85d4c;
    --accent-coral-light: #fef0ee;
    --accent-green: #2e7d32;
    --accent-green-light: #e8f5e9;
    --accent-blue: #1976d2;
    --accent-blue-light: #e3f2fd;
    --border-light: #e8e6e1;
    
    --font-display: 'Playfair Display', Georgia, serif;
    --font-body: 'DM Sans', -apple-system, sans-serif;
    
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 2.5rem;
    --space-xl: 4rem;
    --space-2xl: 6rem;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  body {
    font-family: var(--font-body);
    background-color: var(--bg-warm);
    color: var(--text-primary);
    line-height: 1.7;
    font-size: 17px;
    overflow-x: hidden;
  }

  /* === BREADCRUMB === */
  .breadcrumb a:hover {
    color: #c9a227;
  }

  /* === PROGRESS BAR === */
  .progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(90deg, var(--brand-navy), var(--accent-coral));
    z-index: 1000;
    transition: width 0.1s ease-out;
  }

  /* === HERO === */
  .hero {
    background: linear-gradient(135deg, #1a2e44 0%, #2a4560 100%);
    padding: var(--space-2xl) var(--space-lg);
    text-align: center;
    position: relative;
    overflow: hidden;
    color: white;
  }

  .hero-image {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .hero-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      to bottom,
      rgba(26, 46, 68, 0.85) 0%,
      rgba(26, 46, 68, 0.95) 100%
    );
  }

  .hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
  }

  .guide-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    padding: 8px 16px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: var(--space-md);
  }

  .guide-badge svg {
    width: 16px;
    height: 16px;
  }

  .hero h1 {
    font-family: var(--font-display);
    font-size: clamp(2.5rem, 6vw, 4rem);
    font-weight: 600;
    line-height: 1.1;
    margin-bottom: var(--space-md);
    color: white;
  }

  .hero-subtitle {
    font-family: var(--font-body);
    font-size: clamp(1.1rem, 2vw, 1.25rem);
    max-width: 600px;
    margin: 0 auto var(--space-lg) auto;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.9);
  }

  .hero-meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-lg);
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .meta-item svg {
    width: 18px;
    height: 18px;
    opacity: 0.8;
  }

  .meta-item.difficulty {
    color: #c9a227;
    font-weight: 600;
  }

  .meta-item.difficulty svg {
    opacity: 1;
    stroke: #c9a227;
  }
  
  /* === QUICK JUMP === */
  .quick-jump {
    background: white;
    border-bottom: 1px solid var(--border-light);
    padding: var(--space-sm) var(--space-lg);
    position: sticky;
    top: 73px;
    z-index: 90;
  }
  
  .quick-jump-inner {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: var(--space-md);
  }
  
  .quick-jump-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .quick-jump-links {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
  }
  
  .quick-jump-link {
    font-size: 14px;
    color: var(--brand-navy);
    text-decoration: none;
    padding: 6px 12px;
    background: var(--bg-cream);
    border-radius: 20px;
    transition: all 0.2s;
  }
  
  .quick-jump-link:hover {
    background: var(--brand-navy);
    color: white;
  }
  
  /* === MAIN LAYOUT === */
  .main-layout {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: var(--space-xl);
    padding: var(--space-xl) var(--space-lg);
  }
  
  /* === SIDEBAR === */
  .sidebar {
    position: sticky;
    top: 140px;
    height: fit-content;
  }
  
  .sidebar-section {
    margin-bottom: var(--space-lg);
  }
  
  .sidebar-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--text-muted);
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-xs);
    border-bottom: 2px solid var(--border-light);
  }
  
  .chapter-list {
    list-style: none;
  }
  
  .chapter-item {
    margin-bottom: 2px;
  }
  
  .chapter-link {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: 10px 12px;
    text-decoration: none;
    color: var(--text-secondary);
    border-radius: 8px;
    transition: all 0.2s;
    font-size: 14px;
    line-height: 1.4;
  }
  
  .chapter-link:hover {
    background: var(--bg-cream);
    color: var(--text-primary);
  }
  
  .chapter-number {
    font-weight: 700;
    font-size: 12px;
    min-width: 24px;
    opacity: 0.4;
  }
  
  .sidebar-help {
    background: var(--bg-cream);
    border-radius: 12px;
    padding: var(--space-md);
  }
  
  .sidebar-help h4 {
    font-family: var(--font-display);
    font-size: 16px;
    margin-bottom: var(--space-xs);
  }
  
  .sidebar-help p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: var(--space-sm);
    line-height: 1.5;
  }
  
  .sidebar-help-links {
    display: flex;
    gap: var(--space-md);
  }
  
  .sidebar-help-links a {
    font-size: 13px;
    color: var(--brand-navy);
    text-decoration: none;
    font-weight: 600;
  }
  
  .sidebar-help-links a:hover {
    text-decoration: underline;
  }
  
  /* === CONTENT === */
  .content {
    max-width: 720px;
    background: white;
    border-radius: 16px;
    padding: var(--space-xl);
    box-shadow: 0 2px 20px rgba(0,0,0,0.04);
  }
  
  .content h2 {
    font-family: var(--font-display);
    font-size: 1.75rem;
    font-weight: 600;
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    color: var(--text-primary);
    scroll-margin-top: 160px;
    padding-top: var(--space-md);
    border-top: 1px solid var(--border-light);
  }
  
  .content h2:first-child {
    margin-top: 0;
    padding-top: 0;
    border-top: none;
  }
  
  .content h3 {
    font-family: var(--font-body);
    font-size: 1.2rem;
    font-weight: 700;
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
  }
  
  .content p {
    margin-bottom: var(--space-md);
    color: var(--text-secondary);
  }
  
  .content ul, .content ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-md);
    color: var(--text-secondary);
  }
  
  .content li {
    margin-bottom: var(--space-xs);
  }
  
  .content strong {
    color: var(--text-primary);
  }
  
  .content a {
    color: var(--brand-navy);
    text-decoration: underline;
    text-decoration-color: var(--border-light);
    text-underline-offset: 2px;
  }
  
  .content a:hover {
    text-decoration-color: var(--brand-navy);
  }
  
  /* Lead Paragraph */
  .lead-paragraph {
    font-size: 1.15rem;
    line-height: 1.7;
    color: var(--text-primary);
    margin-bottom: var(--space-lg);
  }
  
  /* === SPECIAL CONTENT ELEMENTS === */
  
  /* Tip Box - Blue */
  .tip-box {
    background: var(--accent-blue-light);
    border: 1px solid rgba(25, 118, 210, 0.2);
    border-radius: 12px;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    display: flex;
    gap: var(--space-md);
  }
  
  .tip-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: var(--accent-blue);
  }
  
  .tip-box h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--accent-blue);
  }
  
  .tip-box p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }
  
  /* Warning Box - Coral */
  .warning-box {
    background: var(--accent-coral-light);
    border: 1px solid rgba(232, 93, 76, 0.2);
    border-radius: 12px;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    display: flex;
    gap: var(--space-md);
  }
  
  .warning-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: var(--accent-coral);
  }
  
  .warning-box h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--accent-coral);
  }
  
  .warning-box p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }
  
  /* Success Box - Green */
  .success-box {
    background: var(--accent-green-light);
    border: 1px solid rgba(46, 125, 50, 0.2);
    border-radius: 12px;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
    display: flex;
    gap: var(--space-md);
  }
  
  .success-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: var(--accent-green);
  }
  
  .success-box h4 {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--accent-green);
  }
  
  .success-box p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }
  
  /* Example Box - Cream */
  .example-box {
    background: var(--bg-cream);
    border-left: 4px solid var(--accent-amber);
    border-radius: 0 12px 12px 0;
    padding: var(--space-md);
    margin: var(--space-lg) 0;
  }
  
  .example-box h4 {
    font-size: 13px;
    font-weight: 700;
    margin-bottom: var(--space-xs);
    color: var(--accent-amber);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .example-box p {
    font-size: 15px;
    margin: 0;
    color: var(--text-primary);
    font-style: italic;
  }
  
  /* Key Takeaway Box */
  .key-takeaway {
    background: linear-gradient(135deg, var(--brand-navy) 0%, var(--brand-navy-light) 100%);
    border-radius: 12px;
    padding: var(--space-lg);
    margin: var(--space-xl) 0;
    color: white;
  }
  
  .key-takeaway h4 {
    font-family: var(--font-display);
    font-size: 18px;
    margin-bottom: var(--space-sm);
    display: flex;
    align-items: center;
    gap: var(--space-xs);
  }
  
  .key-takeaway h4 svg {
    width: 20px;
    height: 20px;
  }
  
  .key-takeaway p {
    font-size: 15px;
    margin: 0;
    color: rgba(255,255,255,0.9);
    line-height: 1.6;
  }
  
  /* Step Cards */
  .step-card {
    display: flex;
    gap: var(--space-md);
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    background: white;
    border: 1px solid var(--border-light);
    border-radius: 12px;
    transition: all 0.2s;
  }
  
  .step-card:hover {
    border-color: var(--brand-navy);
    box-shadow: 0 4px 12px rgba(30, 58, 95, 0.1);
  }
  
  .step-number {
    width: 48px;
    height: 48px;
    background: var(--brand-navy);
    color: white;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 700;
    flex-shrink: 0;
  }
  
  .step-content h4 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--text-primary);
  }
  
  .step-content p {
    font-size: 14px;
    margin: 0;
    color: var(--text-secondary);
  }
  
  /* Checklist */
  .checklist {
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    background: var(--bg-cream);
    border-radius: 12px;
  }
  
  .checklist h4 {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .checklist-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    font-size: 15px;
    color: var(--text-secondary);
  }
  
  .checklist-item::before {
    content: '‚òê';
    color: var(--brand-navy);
    font-size: 18px;
  }

  /* Quick Answer Box */
  .quick-answer {
    background: linear-gradient(135deg, #1a2e44 0%, #2a4a6a 100%);
    color: white;
    padding: 24px 32px;
    border-radius: 12px;
    margin: 32px 0;
    position: relative;
    overflow: hidden;
  }

  .quick-answer::before {
    content: '‚ö°';
    position: absolute;
    top: -20px;
    right: -10px;
    font-size: 80px;
    opacity: 0.1;
  }

  .quick-answer h4 {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 8px;
    color: #c9a227;
  }

  .quick-answer p {
    font-size: 16px;
    line-height: 1.6;
    margin: 0;
  }

  .quick-answer strong {
    color: white;
  }

  /* Australia Note */
  .australia-note {
    display: flex;
    gap: 16px;
    padding: 16px;
    background: #f0f7ff;
    border-left: 4px solid #0066cc;
    border-radius: 0 8px 8px 0;
    margin: 32px 0;
  }

  .australia-note svg {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: #0066cc;
  }

  .australia-note h4 {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 4px;
    color: #004499;
  }

  .australia-note p {
    font-size: 14px;
    margin: 0;
    color: #4a4a4a;
  }

  /* Real Case Box */
  .real-case {
    background: #faf6e9;
    border: 1px solid #e2e2e2;
    border-radius: 12px;
    padding: 20px;
    margin: 32px 0;
    position: relative;
  }

  .real-case::before {
    content: 'üìã';
    position: absolute;
    top: -12px;
    left: 16px;
    background: #f5f0e8;
    padding: 0 8px;
    font-size: 20px;
  }

  .real-case h4 {
    font-family: 'Source Serif 4', Georgia, serif;
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
    color: #1a1a1a;
    padding-top: 4px;
  }

  .real-case p {
    font-size: 14px;
    color: #4a4a4a;
    margin-bottom: 12px;
    line-height: 1.6;
  }

  .real-case em {
    font-style: italic;
    color: #1a1a1a;
  }

  .real-case-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 14px;
    font-weight: 600;
    color: #1a2e44;
    text-decoration: none;
    border-bottom: none;
  }

  .real-case-link:hover {
    color: #e85d4c;
  }

  /* Table Styling */
  .content table {
    width: 100%;
    border-collapse: collapse;
    margin: 24px 0;
    font-size: 15px;
  }

  .content table th {
    background: #faf6e9;
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #e2e2e2;
    color: #1a1a1a;
  }

  .content table td {
    padding: 12px 16px;
    border-bottom: 1px solid #e2e2e2;
    color: #4a4a4a;
  }

  .content table tr:hover td {
    background: rgba(245, 240, 232, 0.5);
  }

  .content table td:first-child {
    font-weight: 500;
    color: #1a1a1a;
  }

  /* What's Next */
  .whats-next {
    margin-top: var(--space-2xl);
    padding: var(--space-lg);
    background: linear-gradient(135deg, var(--bg-cream) 0%, var(--bg-warm) 100%);
    border-radius: 12px;
    text-align: center;
    border: 2px dashed var(--border-light);
  }
  
  .whats-next h3 {
    font-family: var(--font-display);
    font-size: 1.5rem;
    margin-bottom: var(--space-xs);
  }
  
  .whats-next p {
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
  }
  
  .whats-next-link {
    display: inline-block;
    background: var(--brand-navy);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s;
  }
  
  .whats-next-link:hover {
    background: var(--brand-navy-light);
    transform: translateY(-1px);
  }
  
  /* === TRUST SECTION === */
  .trust-section {
    background: white;
    border-top: 1px solid var(--border-light);
    padding: var(--space-lg);
  }
  
  .trust-inner {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: var(--space-xl);
    flex-wrap: wrap;
  }
  
  .trust-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }
  
  .trust-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: var(--bg-cream);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    color: var(--brand-navy);
  }
  
  .trust-info {
    font-size: 13px;
  }
  
  .trust-label {
    color: var(--text-muted);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .trust-name {
    color: var(--text-primary);
    font-weight: 600;
  }
  
  .trust-date {
    margin-left: auto;
    font-size: 13px;
    color: var(--text-muted);
  }
  
  /* === MOBILE MENU === */
  .mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    color: var(--text-primary);
  }

  .mobile-menu-btn svg {
    width: 24px;
    height: 24px;
  }

  .mobile-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    z-index: 998;
  }

  .mobile-menu-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .mobile-menu-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 280px;
    height: 100%;
    background: white;
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
    transform: translateX(100%);
    transition: transform 0.3s ease;
    z-index: 999;
    padding: var(--space-lg);
  }

  .mobile-menu-panel.active {
    transform: translateX(0);
  }

  .mobile-menu-close {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: var(--text-muted);
    padding: 8px;
    line-height: 1;
  }

  .mobile-menu-close:hover {
    color: var(--text-primary);
  }

  .mobile-menu-nav {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    margin-top: var(--space-2xl);
  }

  .mobile-menu-link {
    color: var(--text-primary);
    text-decoration: none;
    font-size: 18px;
    font-weight: 500;
    padding: var(--space-sm);
    border-radius: 8px;
    transition: background 0.2s;
  }

  .mobile-menu-link:hover {
    background: var(--bg-cream);
  }

  body.menu-open {
    overflow: hidden;
  }

  /* === RESPONSIVE === */
  @media (max-width: 1024px) {
    .main-layout {
      grid-template-columns: 1fr;
    }

    .sidebar {
      position: static;
      display: none;
    }

    .quick-jump {
      display: block;
    }

    .tagline {
      display: none;
    }
  }

  @media (max-width: 768px) {
    .main-nav {
      display: none;
    }

    .mobile-menu-btn {
      display: block;
    }
    
    .hero {
      padding: var(--space-xl) var(--space-sm);
    }
    
    .content {
      padding: var(--space-md);
      border-radius: 0;
    }
    
    .main-layout {
      padding: 0;
    }
    
    .hero-meta {
      flex-direction: column;
      gap: var(--space-sm);
    }
    
    .quick-jump {
      display: none;
    }
    
    .trust-inner {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .trust-date {
      margin-left: 0;
    }

    .step-card {
      flex-direction: column;
      text-align: center;
    }
    
    .step-number {
      margin: 0 auto;
    }
  }
</style>
